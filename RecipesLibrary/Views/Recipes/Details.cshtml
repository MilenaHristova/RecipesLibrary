@model RecipeDetailsModel

<div class="row text-center text-details">
    <div>
        <img src="~/uploads/@Model.ImageUrl" class="detailsImage" />
    </div>
    <h1 class="text-lg-center text-uppercase title">
        @Model.Name
    </h1>
    <h3 class="description">
        @Model.Description
    </h3>
    <div>
        <span class="text-details-small">Preparation Time: @Model.PrepTime minutes / </span>
        <span class="text-details-small">Cooking Time: @Model.CookingTime minutes</span>
    </div>
    <div class="text-center">
        <b>Ingredients: </b>
        <div>
            @foreach (var i in Model.Ingredients)
            {
                <p>@i.Quantity @i.Measurement @i.Name</p>
            }
        </div>
    </div>
    <div>
        <p><b>Instructions: </b></p>
        <p>@Model.Preparation</p>
    </div>
    <div class="text-details-small">Added On: @Model.AddedOn</div>
    <div class="text-details-small">Course: @Model.Course</div>
    <div class="text-details-small">Category: @Model.Category</div>

    @if (Model.Author == User.Identity.Name || User.IsInRole(GlobalConstants.AdministratorRole))
    {
        <br />
        <div>
            <a href="/Recipes/Edit/@Model.Id" class="btn btn-primary">Edit</a>
            <a href="/Recipes/Delete/@Model.Id" class="btn btn-danger">Delete</a>
        </div>
    }
</div>

@section Scripts{ 
<script>
        $(document).ready(function () {
            $(".delete").on("click", function () {
                if (confirm("Are you sure you want to delete this recipe?")) {
                    $.ajax({
                        url: '/Recipes/Delete/@Model.Id',
                        success: function () {


                        }
                    })
                    $(".container").text("deleted");
                }
            })
        })
</script>
}